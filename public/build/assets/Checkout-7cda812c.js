import{q as n,r as c,a as e,j as r,y as o}from"./app-a341da4a.js";const p=()=>{const{order:d,snapToken:s,clientKey:a}=n().props;console.log(s),console.log(a),c.useEffect(()=>{const t=document.createElement("script");return t.src="https://app.sandbox.midtrans.com/snap/snap.js",t.setAttribute("data-client-key",a),t.async=!0,document.body.appendChild(t),()=>{document.body.removeChild(t)}},[a]);const l=()=>{window.snap?window.snap.pay(s,{onSuccess:t=>{o.visit(`/invoice/${d.id}`)},onPending:t=>{alert("Payment pending!"),console.log(t)},onError:t=>{alert("Payment failed!"),console.log(t)},onClose:()=>{alert("You closed the payment popup without finishing.")}}):alert("Snap.js is not loaded.")};return e("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:r("div",{className:"bg-white shadow-md rounded-lg p-6 w-full max-w-2xl",children:[e("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-700",children:"Checkout Details"}),r("table",{className:"table-auto w-full border border-gray-300 rounded-lg overflow-hidden",children:[e("thead",{className:"bg-gray-200 text-gray-700",children:r("tr",{children:[e("th",{className:"px-4 py-2 text-left",children:"Field"}),e("th",{className:"px-4 py-2 text-left",children:"Details"})]})}),r("tbody",{children:[r("tr",{children:[e("td",{className:"border px-4 py-2",children:"Order ID"}),e("td",{className:"border px-4 py-2",children:d.id})]}),r("tr",{children:[e("td",{className:"border px-4 py-2",children:"Name"}),e("td",{className:"border px-4 py-2",children:d.name})]}),r("tr",{children:[e("td",{className:"border px-4 py-2",children:"Address"}),e("td",{className:"border px-4 py-2",children:d.address})]}),r("tr",{children:[e("td",{className:"border px-4 py-2",children:"Phone"}),e("td",{className:"border px-4 py-2",children:d.phone})]}),r("tr",{children:[e("td",{className:"border px-4 py-2",children:"Quantity"}),e("td",{className:"border px-4 py-2",children:d.qty})]}),r("tr",{children:[e("td",{className:"border px-4 py-2",children:"Total Price"}),r("td",{className:"border px-4 py-2",children:["Rp ",d.total_price]})]}),r("tr",{children:[e("td",{className:"border px-4 py-2",children:"Status"}),e("td",{className:"border px-4 py-2 capitalize",children:d.status})]})]})]}),e("div",{className:"mt-6 text-center",children:e("button",{onClick:()=>l(),className:"px-4 py-2 bg-indigo-600 text-white rounded-md shadow hover:bg-indigo-700",children:"Proceed to Payment"})})]})})};export{p as default};
